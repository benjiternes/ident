\ProvidesPackage{beamerthemeFUH}[2014/06/12]

\mode<presentation>

%% Allgemeine Einstellungen
%\setlength{\parskip}{1.5em}

%% Erstelle logische Variablen ---------------------------------------------- %%
\newif\ifbeamer@FUH@wiwi
\newif\ifbeamer@FUH@uk
\newif\ifbeamer@FUH@nav
\newif\ifbeamer@FUH@frutiger
\newif\ifbeamer@FUH@mathpazo
\newif\ifbeamer@FUH@mathptmx
\newif\ifbeamer@FUH@colorful
\newif\ifbeamer@FUH@squares
\newif\ifbeamer@FUH@nologo
\newif\ifbeamer@FUH@infoline
\newif\ifbeamer@FUH@infoSub
\newif\ifbeamer@FUH@wa

%% Standardmaessig sind diese Variablen auf 'false' gesetzt. Falls keine      %%
%% Fakultaet uebergeben wird, soll 'uk' verwendet werden: ------------------- %%
\beamer@FUH@wiwifalse
\beamer@FUH@uktrue
\beamer@FUH@navfalse
\beamer@FUH@frutigerfalse
\beamer@FUH@mathpazofalse
\beamer@FUH@mathptmxfalse
\beamer@FUH@colorfulfalse
\beamer@FUH@squaresfalse
\beamer@FUH@nologofalse
\beamer@FUH@infolinefalse
\beamer@FUH@infoSubfalse
\beamer@FUH@wafalse

%% Definiere die moeglichen Optionen ---------------------------------------- %%

%% Die Variable \fak wird in beamercolorthemeuzk.sty verwendet, um die Farben %%
%% fuer exampleblocks zu kontrollieren. Sie wird hier bereits gesetzt falls   %%
%% kein Fakultaetsname uebergeben wird. ------------------------------------- %%
\newcommand{\fak}[1][]{wiwi}
\renewcommand{\fak}{wiwi}

%% Ausserdem wird die Variable \beamer@FUH@uk auf false gesetzt, falls eine   %%
%% Fakultaet angegeben wurde. ----------------------------------------------- %%

\DeclareOptionBeamer{wiwi}{\beamer@FUH@wiwitrue \beamer@FUH@ukfalse \renewcommand{\fak}{wiwi}}

\DeclareOptionBeamer{nav}{\beamer@FUH@navtrue}
\DeclareOptionBeamer{frutiger}{\beamer@FUH@frutigertrue}
\DeclareOptionBeamer{mathpazo}{\beamer@FUH@mathpazotrue}
\DeclareOptionBeamer{mathptmx}{\beamer@FUH@mathptmxtrue}
\DeclareOptionBeamer{colorful}{\beamer@FUH@colorfultrue}
\DeclareOptionBeamer{squares}{\beamer@FUH@squarestrue}
\DeclareOptionBeamer{nologo}{\beamer@FUH@nologotrue}
\DeclareOptionBeamer{infoline}{\beamer@FUH@infolinetrue}
\DeclareOptionBeamer{infoSub}{\beamer@FUH@infoSubtrue}
\DeclareOptionBeamer{infoSub}{\beamer@FUH@watrue}

\ProcessOptionsBeamer

\usecolortheme{FUH}

%% Schalte die Navigationsleiste aus ---------------------------------------- %%
\ifbeamer@FUH@nav
\else
  \setbeamertemplate{navigation symbols}{}
\fi

%% Anpassen der Schrift an die Vorgaben des Corporate Designs --------------- %%
\ifbeamer@FUH@frutiger
		\RequirePackage{lmodern}
		\RequirePackage[scaled]{lfrs}
		\setbeamerfont*{frametitle}{series = \bfseries, size = \Large}
  		\setbeamerfont*{title}{series = \bfseries, size = \Large}
  		%\setbeamerfont*{institute in head/foot}{series* = bc}
  		%\setbeamerfont*{author in head/foot}{series* = bc}
		\else
		\ifbeamer@FUH@mathpazo
				\RequirePackage{lmodern}
  				\RequirePackage{mathpazo}
  				\setbeamerfont*{frametitle}{series = \bfseries, size = \Large}
  				\setbeamerfont*{title}{series = \bfseries, size = \Large}
  				%\setbeamerfont*{institute in head/foot}{series* = bc}
  				%\setbeamerfont*{author in head/foot}{series* = bc}
  				\else
  				\ifbeamer@FUH@mathptmx
  								\RequirePackage{lmodern}
  								\RequirePackage{mathptmx}
  								\setbeamerfont*{frametitle}{series = \bfseries, size = \Large}
  								\setbeamerfont*{title}{series = \bfseries, size = \Large}
  								\else
  								\RequirePackage[scaled=0.95]{helvet}
  								\setbeamerfont*{frametitle}{series = \bfseries, size = \Large}
  								\setbeamerfont*{title}{series = \bfseries, size = \Large}
\fi
\fi
\fi

%---------------------------------------------------------------------
% Infolines
%---------------------------------------------------------------------
\ifbeamer@FUH@infoline
\useoutertheme[subsection=false,shadow]{miniframes}
\else
\fi

\ifbeamer@FUH@infoSub
\useoutertheme{infolines}
\else
\fi

\ifbeamer@FUH@wa
\setbeamertemplate{headline}
{%
	\begin{beamercolorbox}[ht=.3cm, dp=1.125ex,%
	leftskip=.3cm,rightskip=.3cm plus1fil]{section in head/foot}%
	\insertsectionhead
	\end{beamercolorbox}
	
	\begin{beamercolorbox}[colsep=1.5pt]{middle sepearation line head}
	\end{beamercolorbox}
\else
\fi

%% Schrift im Inhaltsverzeichnis -------------------------------------------- %%
\setbeamerfont*{section in toc}{series = \bfseries}
%\setbeamerfont*{subsection in toc}{size = \footnotesize}
\setbeamertemplate{section in toc}[sections numbered]
%\setbeamertemplate{subsection in toc}[subsections numbered]
%\setbeamertemplate{section in toc}[sections numbered]

%% Lege feste Schriftgroesse fuer die Fusszeile fest, damit die Schrift-      %%
%% groesse des Dokuments als Option an \documentclass uebergeben werden       %%
%% kann --------------------------------------------------------------------- %%
\setbeamerfont{institute in head/foot}{size*={6pt}{6.2pt}}
\setbeamerfont{author in head/foot}{size*={6pt}{6.2pt}}

%% Aussehen der itemize-Umgebung -------------------------------------------- %%
\ifbeamer@FUH@squares%
  \setbeamertemplate{itemize items}[square]%
\else%
  \setbeamertemplate{itemize items}[circle]%
\fi

%% Einbinden des Hintergrundlogos ------------------------------------------- %%
\ifbeamer@FUH@nologo%

\else%
\defbeamertemplate*{background}{FUH theme}{%
  \begingroup%
  \setlength{\unitlength}{\paperwidth}%
  \begin{picture}(1,1)%
    \put(-0.018,0.25){
    \fbox{\includegraphics[scale=0.7]{logo}}%
  }%
  \end{picture}%
  \endgroup%
}
\fi

%% Definiere das kleine Siegel ---------------------------------------------- %%
%\pgfdeclareimage[height=1cm]{logosm}{logo-small}%
  
%% Setze die Fakultaetsnamen
\newcommand{\uni}{Hochschule Bochum}%
\newcommand{\wiwi}{Fachbereich Elektrotechnik und Informatik}%

%% Teste ob Babel geladen wurde und setze Fakultatsname sowie deren Uebersetzung
%% Diese koennen hier nach Bedarf angepasst werden
\ifdefined\addto%
\newcommand{\FUH@captionsgerman}{%
\renewcommand{\uni}{Hochschule Bochum}%
}
\newcommand{\FUH@captionsngerman}{%
\renewcommand{\uni}{Hochschule Bochum}%
}
\newcommand{\FUH@captionsenglish}{%
\renewcommand{\uni}{Hochschule Bochum}%
}
\addto{\captionsgerman}{\FUH44@captionsgerman}
\addto{\captionsngerman}{\FUH@captionsgerman}
\addto{\captionsenglish}{\FUH@captionsenglish}
\fi %\ifdefined\addto

%---------------------------------------------------------------------
% Fu√üzeilen
%---------------------------------------------------------------------
\defbeamertemplate*{footline uk}{FUH theme}
{
  \leavevmode%
  \hbox{%
    \begin{beamercolorbox}[wd=.125\paperwidth, ht=4.7pt]{FUH wiwi}
    \end{beamercolorbox}%
    
    \begin{beamercolorbox}[wd=.125\paperwidth, ht=4.7pt, center]{date in head/foot}
      \insertframenumber{} / \inserttotalframenumber
    \end{beamercolorbox}%
  }
  \vskip2pt
  \hbox{
    \hspace{.01\paperwidth}
    \begin{beamercolorbox}[wd=.23\paperwidth, dp=3pt, ht=8pt]{}%
      \usebeamerfont{institute in head/foot}\insertshortauthor
    \end{beamercolorbox}
  }
  \hbox{
    \hspace{.01\paperwidth}
    \begin{beamercolorbox}[wd=.5\paperwidth, dp=2pt, ht=6pt]{}%
      \usebeamerfont{institute in head/foot}\insertshortinstitute
    \end{beamercolorbox}
    \begin{beamercolorbox}[wd=.23\paperwidth, dp=4pt, ht=6pt]{}%
      \usebeamerfont{institute in head/foot}\uni
    \end{beamercolorbox}
  }
  \hbox{
    \begin{beamercolorbox}[wd=.23\paperwidth, dp=2pt, ht=6pt]{}%
    \end{beamercolorbox}
}
%   \hbox{
%     \hspace{.5\paperwidth}
%     \begin{beamercolorbox}[wd=.23\paperwidth, dp=2ex, ht=2ex]{}%
%       \emph{\insertshortinstitute}
%     \end{beamercolorbox}
%   }
  \vskip-1cm
  \llap{\includegraphics[width=35mm]{logo}\hskip-.875\paperwidth}%
  \vspace{2pt}
}


%% Definiere die alternativen Fusszeilen in den jeweiligen Fakultaetsfarben
\defbeamertemplate*{footline faculty}{FUH theme}
{
  \leavevmode%
  \hbox{%
  \ifbeamer@FUH@wiwi%
    \begin{beamercolorbox}[wd=.875\paperwidth, ht=4.7pt]{FUH wiwi}
  \fi
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=.125\paperwidth, ht=4.7pt, center]{date in head/foot}
      \insertframenumber{} / \inserttotalframenumber
    \end{beamercolorbox}%
      }
  \vskip2pt
\hbox{
    \hspace{.01\paperwidth}
    \begin{beamercolorbox}[wd=.5\paperwidth, dp=3pt, ht=8pt]{}%
      \usebeamerfont{author in head/foot}\color{wiwi}{\insertshortauthor ,~\uni}
    \end{beamercolorbox}
  }
  \hbox{
    \hspace{.01\paperwidth}
    \begin{beamercolorbox}[wd=.5\paperwidth, dp=4pt, ht=6pt]{}%
      \usebeamerfont{institute in head/foot}\color{wiwi}{\insertshorttitle}
    \end{beamercolorbox}
    
%    \begin{beamercolorbox}[]{}
%      \usebeamerfont{institute in head/foot}\color{FernUni}{\uni}
%    \end{beamercolorbox}
  }
\hbox{
    \hspace{.01\paperwidth}
    \begin{beamercolorbox}[wd=.7\paperwidth, dp=3pt, ht=5pt]{}%
      \ifbeamer@FUH@wiwi%
        \usebeamerfont{institute in head/foot}\color{wiwi}{\event ,~\location ,~\dt}
      \fi
    \end{beamercolorbox}
  }
  \vskip-1cm
  \llap{\includegraphics[scale=0.75]{logo}\hskip-.875\paperwidth}%
  \vspace{2pt}
}

%% Waehle die Fusszeile entsprechend der uebergebenen Option
\defbeamertemplate*{footline}{FUH theme}
{
  \ifbeamer@FUH@wiwi%
    \usebeamertemplate{footline faculty}%
  \fi%
    \ifbeamer@FUH@uk%
    \usebeamertemplate{footline uk}%
  \fi%
}

%---------------------------------------------------------------------
% Piktogramme integrieren
%---------------------------------------------------------------------
%\newcommand{\zielpikto}{\leavevmode\raisebox{\dimexpr-\height+\ht\strutbox\relax}{\includegraphics[height=1cm]{abbildungen/didaktische-elemente/ziel.pdf}}}
%\newcommand{\hinweispikto}{\leavevmode\raisebox{\dimexpr-\height+\ht\strutbox\relax}{\includegraphics[height=1cm]{abbildungen/didaktische-elemente/hinweis.pdf}}}
%\newcommand{\aufgabepikto}{\leavevmode\marginnote{\raisebox{\dimexpr-\height+\ht\strutbox\relax}{\includegraphics[height=1cm]{abbildungen/didaktische-elemente/aufgabe.pdf}}}} 
%\newcommand{\schlussfolgerungpikto}{\leavevmode\marginnote{\raisebox{\dimexpr-\height+\ht\strutbox\relax}{\includegraphics[height=1cm]{abbildungen/didaktische-elemente/schlussfolgerung.pdf}}}} 
%\newcommand{\fragepikto}{\leavevmode\marginnote{\raisebox{\dimexpr-\height+\ht\strutbox\relax}{\includegraphics[height=1cm]{abbildungen/didaktische-elemente/folgernde_frage.pdf}}}} 
%\newcommand{\afragepikto}{\leavevmode\marginnote{\raisebox{\dimexpr-\height+\ht\strutbox\relax}{\includegraphics[height=1cm]{abbildungen/didaktische-elemente/abschliessende_frage.pdf}}}} 
%\newcommand{\literaturpikto}{\leavevmode\marginnote{\raisebox{\dimexpr-\height+\ht\strutbox\relax}{\includegraphics[height=1cm]{abbildungen/didaktische-elemente/literatur.pdf}}}} 
%\newcommand{\querverweispikto}{\leavevmode\marginnote{\raisebox{\dimexpr-\height+\ht\strutbox\relax}{\includegraphics[height=1cm]{abbildungen/didaktische-elemente/querverweis.pdf}}}} 
%\newcommand{\diskussionpikto}{\leavevmode\marginnote{\raisebox{\dimexpr-\height+\ht\strutbox\relax}{\includegraphics[height=1cm]{abbildungen/didaktische-elemente/diskussion.pdf}}}}

%---------------------------------------------------------------------
% Blocks
%---------------------------------------------------------------------


\mode
<all>